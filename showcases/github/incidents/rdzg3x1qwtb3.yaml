version: incident/v1
id: rdzg3x1qwtb3
name: Incident with Codespaces
impact: minor
systems:
    - h2ftsgbw7kmk
timeline:
    - ts: "2025-09-17 15:04:48"
      description: We are investigating reports of degraded performance for Codespaces
      investigating: true
    - ts: "2025-09-17 15:31:00"
      description: Some users with Codespaces in West Europe were unable to connect to Codespaces, we have failed over that region and users should be able to create new Codespaces. If a user has a Codespace in a shutting down state, we are still investigating potential fixes and mitigations.
      investigating: true
    - ts: "2025-09-17 16:07:14"
      description: We're continuing to see improvement with Codespaces that were stuck in in the shutting down state and we anticipate the remaining should self resolve in about an hour.
      investigating: true
    - ts: "2025-09-17 16:51:53"
      description: For Codespaces that were stuck in the shutting down state and have been resumed, we've identified an issue that is causing the contents Codespace to be irrecoverably lost which has impacted approximately 250 Codespaces. We are actively working on a mitigation to prevent any more Codespaces currently in this state from being forced to shut down to prevent the potential data loss.
      investigating: true
    - ts: "2025-09-17 17:55:23"
      description: We have confirmed the original mitigation to failover has resolved the issue causing Codespaces to become unavailable. We are evaluating if there is a path to recover unpushed data from the approximately 2000 Codespaces that are currently in the shutting down state. We will be resolving this incident and will detail the next steps in our public summary.
      investigating: true
    - ts: "2025-09-17 17:55:39"
      description: On September 17, 2025 between 13:23 and 16:51 UTC some users in West Europe experienced issues with Codespaces that had shut down due to network disconnections and subsequently failed to restart. Codespace creations and resumes were failed over to another region at 15:01 UTC. While many of the impacted instances self-recovered after mitigation efforts, approximately 2,000 codespaces remained stuck in a "shutting down" state while the team evaluated possible methods to recover unpushed data from the latest active session of affected codespaces. Unfortunately, recovery of that data was not possible. We unblocked shutdown of those codespaces, with all instances either shut down or available by 8:26 UTC on September 19.<br /><br />The disconnects were triggered by an exhaustion of resources in the network relay infrastructure in that region, but the lack of self-recovery was caused by an unhandled error impacting the local agent, which led to an unclean shutdown.<br /><br />We are improving the resilience of the local agent to disconnect events to ensure shutdown of codespaces is always clean without data loss.  We have also addressed the exhausted resources in the network relay and will be investing in improved detection and resilience to reduce the impact of similar events in the future.
      resolved: true
