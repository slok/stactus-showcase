version: incident/v1
id: vkm6tvh2b568
name: 1Password Browser Extension Code Syntax Rendering Issue
impact: minor
systems: []
timeline:
    - ts: "2026-01-23 20:04:42"
      description: The 1Password browser extension, which works by injecting code into web pages, inadvertently included code from PrismJS, a third party dependency, breaking syntax highlighting on some websites that display code blocks.
      resolved: true
    - ts: "2026-01-23 20:05:56"
      description: "# Incident Postmortem - 1Password Browser Extension Code Syntax Rendering Issue\n\n**Customer impact began \\(stable rollout start\\):** 2025-12-09\n\n**Investigation Started:** 2025-12-17\n\n**Incident Declared \\(UTC\\):** 2025-12-30 13:13\n\n**Fixed Release First Available:** 2026-01-01\n\n**Fixed Release Fully Available and Verified:** 2026-01-05\n\n**Incident Marked Resolved \\(UTC\\):** 2026-01-05 02:15\n\n**Service\\(s\\) Affected:** 1Password browser extension\n\n## Summary\n\nThe 1Password browser extension, which works by injecting code into web pages, inadvertently included code from PrismJS, a third party dependency, breaking syntax highlighting on some websites that display code blocks. The issue was reported in beta in early December, escalated after additional customer reports and a report from an external partner, and required releasing a stable update to remove the problematic dependency chain. This issue affected page rendering only and did not expose vault data or credentials.\n\n## Impact on Customers\n\nCustomers experienced broken code-block syntax highlighting on websites with `<code>` HTML elements while using the 1Password browser extension version 8.11.22 across all major browsers.\n\n* **Code snippet rendering issue:** Syntax highlighting for code blocks was broken on sites that display code snippet; impacted sites included developer documentation pages, technical forums, and blogs with code snippets.\n* **Browser scope:** Reported in Chromium-based browsers initially, and confirmed to affect all major browsers.\n* **Customer reports:** Started in beta with a single report on December 3, 2025, with additional reports in stable December 15–16, 2025. From December 9, 2025 through January 3, 2026 we received 55 unique customer reports. The issue was later observed in stable and amplified via social media.\n\n## What Happened?\n\nThe injected content script in the 1Password browser extension was able to include UI-related dependencies from other parts of the 1Password codebase in a context where they should not exist. This happened due to a small change that accidentally pulled in additional libraries caused by insufficient restrictions/guardrails on what dependencies could be imported into injected scripts.\n\n* **Detection and Escalation:**\n\n    On December 3, 2025, we received a beta report that syntax highlighting was broken when the 1Password extension was enabled. That report was incorrectly tagged and did not reach the owning team for timely triage, so we did not recognize it as a potential release blocker before version 8.11.22 rolled out to stable on December 9, 2025.\n\n\n\n    On December 17, 2025, an external partner reported the issue affecting stable. That report was routed correctly, we connected it to the earlier beta issue, and we began investigation and remediation.\n\n\n* **Timeline of Events \\(UTC\\):**\n\n    * 2025-12-03: Internal ticket created after beta report of broken syntax highlighting.\n    * 2025-12-09: Bug released to stable version 8.11.22.\n    * 2025-12-15 to 2025-12-16: Three additional customers reported the issue \\(not yet routed to the owning team\\).\n    * 2025-12-17: An external partner reported the issue affecting stable via a shared Slack channel; the Filling & Saving team began investigation.\n    * 2025-12-22: Fix merged \\(script pruning applied broadly to remove PrismJS from injected scripts\\).\n    * 2025-12-30: Reports surfaced that social media users observed the issue; stable update coordination began.\n    * 2025-12-31: Releases published across all browser platforms.\n    * 2026-01-01: Release approved by web stores.\n    \n* **Root Cause Analysis:** We did not have an enforced dependency boundary for injected content scripts, which allowed unexpected UI and runtime dependencies to be bundled into the page-injected context.\n* **Trigger:** A new import introduced an indirect dependency chain from an injected script to a UI module and ultimately to PrismJS.\n* **Contributing Factors \\(if any\\):**\n\n    * Mis-triage of beta report\n    * Missing side-effect regression tests\n    \n\n## How Was It Resolved?\n\nWe removed PrismJS from the scripts the extension injects into web pages by eliminating the import chain that pulled it into the injected bundle. We then shipped an updated extension across all supported browsers.\n\n* **Mitigation Steps:**\n\n    * Coordinated releasing a stable update once stable impact and broader visibility were confirmed.\n    \n* **Resolution Steps:**\n\n    * Fix merged on 2025-12-22.\n    * Fix was applied to the previous stable release.\n    * New beta/stable builds created and published across platforms.\n    * Fix approved by web stores as of 2026-01-01.\n    * Releases published across nightly, beta, and stable.\n    * Because extension updates roll out via browser web stores and auto-update schedules, we consider the fix fully available once all stores had approved the release and we verified the issue could no longer be reproduced on known affected sites.\n    \n* **Verification of Resolution:**\n\n    * We tested the new builds on known affected websites, validating that code block formatting is working as expected.\n    * We confirmed that the browser extension build no longer contained the PrismJS library.\n    \n\n## What We Are Doing to Prevent Future Incidents\n\n* Added lint rules to block disallowed imports into injected scripts.\n* Added internal documentation describing how to avoid dangerous imports and the potential impacts.\n* Ensure new lint rules to prevent dangerous imports are blocking in CI pipelines.\n* Add an automated test to internal testing sites to ensure injected content scripts don’t introduce side effects.\n* Implement automated rules \\+ a triage SLA so new beta issues are reviewed by the owning team before stable release decisions.\n* Ensure bundle size changes are blocking changes, enforced by our automated build systems as part of the code review process.\n\n## Next Steps and Communication\n\n* Most browsers will auto-update extensions via their web stores. If the issue persists, customers should manually check for updates and verify they are on the fixed extension versions \\(8.11.27 and newer\\). Customers can verify their version in their browser’s extension/add-ons settings \\(1Password extension version **8.11.27** or newer\\).\n* We will continue monitoring for regressions and follow up on guardrails \\(blocking lint rules, bundle-size checks, and automated website-side-effect tests\\).\n\nWe are committed to providing a reliable and stable service, and we are taking the necessary steps to learn from this event and prevent it from happening again. Thank you for your understanding.\n\nSincerely,\n\nThe 1Password Team"
